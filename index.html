<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Snake Game - Mobile Edition</title>
    <meta name="description" content="Classic Snake game optimized for mobile devices with touch controls and comprehensive tooltips">
    <meta name="keywords" content="snake game, mobile game, html5 game, touch controls, retro gaming">
    <meta name="author" content="Snake Game Developers">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üêç</text></svg>">
    
    <!-- Progressive Web App -->
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Snake Game">
    <link rel="manifest" href="manifest.json">
    
    <link rel="stylesheet" href="css/style.css">
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        min-height: 100vh;
        height: 100vh;
        width: 100vw;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: #111;
      }
      .game-container {
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        width: 100vw;
        height: 100vh;
        max-width: 100vw;
        max-height: 100vh;
        box-sizing: border-box;
      }
      .game-main, .canvas-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100vw;
        max-width: 100vw;
      }
      .game-canvas {
        width: 90vw;
        max-width: 400px;
        height: 90vw;
        max-height: 400px;
        background: #1a3d1a;
        border-radius: 10px;
        box-shadow: 0 2px 16px #000a;
        display: block;
      }
      @media (min-width: 500px) {
        .game-canvas {
          width: 400px;
          height: 400px;
        }
      }
      .controls-section, .actions-section {
        width: 100vw;
        max-width: 100vw;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .mobile-controls {
        width: 100vw;
        max-width: 400px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 0 auto;
      }
      .game-actions {
        width: 100vw;
        max-width: 400px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 0 auto;
      }
      #extra-sections, .help-section {
        width: 100vw;
        max-width: 400px;
        margin: 0 auto;
      }
      /* Hide scrollbars and prevent scroll */
      ::-webkit-scrollbar { display: none; }
      body { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- Game Header -->
        <header class="game-header">
            <h1 class="game-title">üêç Snake Game</h1>
            <div class="game-info">
                <div class="score-container">
                    <span class="label">Score:</span>
                    <span id="score" class="score-value">0</span>
                </div>
                <div class="high-score-container">
                    <span class="label">High:</span>
                    <span id="high-score" class="score-value">0</span>
                </div>
            </div>
        </header>

        <!-- Game Canvas Area -->
        <main class="game-main">
            <div class="canvas-container">
                <canvas id="gameCanvas" 
                        class="game-canvas" 
                        width="400" 
                        height="400"></canvas>
                
                <!-- Game Status Overlay -->
                <div id="gameStatusOverlay" 
                     class="game-overlay hidden">
                    <div class="overlay-content">
                        <h2 id="overlayTitle" class="overlay-title">Ready to Play?</h2>
                        <p id="overlayMessage" class="overlay-message">Use arrow buttons or keyboard to control the snake</p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Mobile Virtual Controls -->
        <section class="controls-section">
            <div class="mobile-controls" 
                 aria-label="Direction controls">
                
                <!-- Left Control Group: Left and Down -->
                <div class="control-group-left">
                    <button class="control-btn btn-left" 
                            data-direction="ArrowLeft" 
                            aria-label="Move snake left">
                        ‚Üê
                    </button>
                    <button class="control-btn btn-down" 
                            data-direction="ArrowDown" 
                            aria-label="Move snake down">
                        ‚Üì
                    </button>
                </div>
                
                <!-- Center: Snake Icon -->
                <div class="control-group-center">
                    <div class="control-center">
                        <div class="snake-icon">üêç</div>
                    </div>
                </div>
                
                <!-- Right Control Group: Up and Right -->
                <div class="control-group-right">
                    <button class="control-btn btn-up" 
                            data-direction="ArrowUp" 
                            aria-label="Move snake up">
                        ‚Üë
                    </button>
                    <button class="control-btn btn-right" 
                            data-direction="ArrowRight" 
                            aria-label="Move snake right">
                        ‚Üí
                    </button>
                </div>
            </div>
        </section>

        <!-- Game Action Buttons -->
        <section class="actions-section">
            <div class="game-actions">
                <button id="startBtn" 
                        class="action-btn btn-start" 
                        aria-label="Start new game">
                    üöÄ Start Game
                </button>
                <button id="pauseBtn" 
                        class="action-btn btn-pause" 
                        disabled
                        aria-label="Pause or resume game">
                    ‚è∏Ô∏è Pause
                </button>
                <button id="restartBtn" 
                        class="action-btn btn-restart" 
                        disabled
                        aria-label="Restart game">
                    üîÑ Restart
                </button>
            </div>
        </section>

        <!-- Instructions (Desktop) -->
        <!-- Collapsed extra sections: instructions/help will be toggled -->
        <div id="extra-sections" class="collapsed">
            <section class="instructions-section desktop-only">
                <div class="instructions">
                    <h3>How to Play:</h3>
                    <ul>
                        <li><kbd>‚Üë</kbd> <kbd>‚Üì</kbd> <kbd>‚Üê</kbd> <kbd>‚Üí</kbd> Arrow keys to move</li>
                        <li><kbd>Space</kbd> to pause/resume</li>
                        <li><kbd>R</kbd> to restart (optional)</li>
                    </ul>
                </div>
            </section>

        <!-- Game Over Screen -->
        <div id="gameOverScreen" 
             class="game-over-modal hidden">
            <div class="modal-content">
                <h2 class="modal-title">üéÆ Game Over!</h2>
                <div class="final-score">
                    <p>Final Score: <span id="finalScore" class="score-highlight">0</span></p>
                    <p id="newHighScore" 
                       class="new-high-score hidden">üéâ New High Score!</p>
                </div>
                <div class="modal-actions">
                    <button id="playAgainBtn" 
                            class="action-btn btn-primary"
                            aria-label="Play again">
                        üéÆ Play Again
                    </button>
                    <button id="shareScoreBtn" 
                            class="action-btn btn-secondary"
                            aria-label="Share score">
                        üì± Share Score
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Tooltip Container Removed -->

    <!-- Help Instructions Section -->
            <div class="help-section">
                <details class="help-details">
                    <summary class="help-summary">
                        üìñ How to Play & Tips
                    </summary>
                    <div class="help-content">
                        <div class="help-grid">
                            <div class="help-card">
                                <h3>üéØ Game Objective</h3>
                                <ul>
                                    <li>Control the snake to eat food (red squares)</li>
                                    <li>Grow longer with each food consumed</li>
                                    <li>Avoid hitting walls or your own body</li>
                                    <li>Try to achieve the highest score possible!</li>
                                    <li>Each food gives +10 points</li>
                                </ul>
                            </div>
                            <div class="help-card">
                                <h3>üïπÔ∏è Controls</h3>
                                <ul>
                                    <li><strong>Mobile:</strong> Tap virtual arrow buttons</li>
                                    <li><strong>Desktop:</strong> Use keyboard arrow keys</li>
                                    <li><strong>Pause:</strong> Tap pause button or press SPACE</li>
                                    <li><strong>Direction:</strong> Snake follows your last input</li>
                                    <li><strong>Speed:</strong> Game speed increases with score</li>
                                </ul>
                            </div>
                            <div class="help-card">
                                <h3>üì± Mobile Optimization</h3>
                                <ul>
                                    <li>Virtual button layout in cross formation</li>
                                    <li>Touch-responsive controls with haptic feedback</li>
                                    <li>Works in both portrait and landscape modes</li>
                                    <li>Pinch-to-zoom disabled for stable gameplay</li>
                                    <li>Tooltips available via long-press</li>
                                </ul>
                            </div>
                            <div class="help-card">
                                <h3>üèÜ Scoring & Strategy</h3>
                                <ul>
                                    <li>Base points: 10 per food eaten</li>
                                    <li>Bonus for longer snake chains</li>
                                    <li>High score saved locally in browser</li>
                                    <li>Plan your path to avoid corners</li>
                                    <li>Use edges strategically but carefully</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
        </div>

    <!-- Toggle button for extra sections -->
    <button id="toggle-extra" style="position:fixed;bottom:12px;right:12px;z-index:1000;min-width:44px;min-height:44px;font-size:1.1em;">Show Help & Tips</button>
    <!-- Scripts -->
    <script src="js/game.js"></script>
    <script>
    // Toggle extra sections (help/instructions)
    const toggleBtn = document.getElementById('toggle-extra');
    const extraSections = document.getElementById('extra-sections');
    let extraVisible = false;
    function updateToggle() {
      if (extraVisible) {
        extraSections.classList.remove('collapsed');
        toggleBtn.textContent = 'Hide Help & Tips';
      } else {
        extraSections.classList.add('collapsed');
        toggleBtn.textContent = 'Show Help & Tips';
      }
    }
    toggleBtn.addEventListener('click', () => {
      extraVisible = !extraVisible;
      updateToggle();
    });
    // Start hidden
    extraSections.classList.add('collapsed');
    updateToggle();
    </script>
</body>
</html>
